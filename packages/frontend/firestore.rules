rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // DEVELOPMENT MODE: Open rules for testing
    // WARNING: Change this to require authentication for production!
    
    // Allow all reads and writes to shapes collection
    match /shapes/{shapeId} {
      allow read, write: if true;
    }
    
    // Allow all reads and writes to canvases collection
    match /canvases/{canvasId}/{document=**} {
      allow read, write: if true;
    }
    
    // Allow cursors collection
    match /cursors/{cursorId} {
      allow read, write: if true;
    }
    
    // Allow presence collection
    match /presence/{userId} {
      allow read, write: if true;
    }
  }
}
